<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo de documento HTML</title>
    <script>
        //'use strict' impede que variáveis sejam declaradas
        //sem o uso de let, var ou const
        //inicializar variáveis diretamente é má prática de
        //programação
        'use strict'

        /*
        Função é um trecho de código que é "isolado" do restante de um programa com a finalidade de ser executado em um momento posterior.

        Como declarar uma função:
        1) É obrigatório o uso da palavra-chave function
        2) A function PODE ter um nome (existem funções anônimas)
        3) Um par de parênteses (OBRIGATÓRIO)
        4) Dentro dos parênteses, podem ser passados dados externos a função, mas necessários às tarefas que a função desempenhará. Esses dados passados são chamados de PARÂMETROS ou ARGUMENTOS
        5) Um par de chaves de delimitará código "isolado" da função, que é chamado CORPO DA FUNÇÃO.
        6) Dentro do corpo da função, PODE haver um VALOR DE RETORNO, que é indicado pela palavra-chave return
             
        */

        //Chamadas de função podem vir antes da declaração da função.

        let x = soma(15,19)
        //alert(x)
        //alert(soma(12.5, 89.5))

        let a = 45.75, b = 67.15
        //alert(soma(a, b))


        //Declaração de função
        function soma(n1, n2)
        {
            return n1 + n2
        }


        // Função com UM parâmetro
        function fatorial(num)
        {
            //O fatorial de um número é igual a ele próprio multiplicado pelos seus antecessores dá 1
            //5! - 5*4*3*2*1 (120)
            let fat=1  //Elemento neutro da multiplicação
            for (let i = num; i >1; i--)
            {
                fat *= i  /// fat = fat *i
            }
            return fat
        }
        //Chamadas de função feita dentro de string tamplates
        document.write(`5! é igual a ${fatorial(5)}<br>`)
        document.write(`9! é igual a ${fatorial(9)}<br>`)
        let res = fatorial(6)
        document.write(`6! é igual a ${res}<br>`)
        document.write(`15! é igual a ${fatorial(15)}<br>`)

        /* ******************************************************
        FUNÇÃO SEM VALOR DE RETORNO
        ********************************************************* */
        function traco(tamanho)
        {
            for(let i = 1; i<= tamanho; i++)
            {
                document.write("-")
            }
            document.write('<br>')
        }


        //Chamadas de Função

        traco(40)
        traco(15)
        let ret = traco(20) // Funções se return explicito retornam o valor undefined
        document.write(`ret = ${ret} <br>`)

        
        /* ******************************************************
        FUNÇÕES DETERMINÍSTICAS X NÃO-DETERMINISTICAS
        ********************************************************* */

        /*Função Determinística: todas as vezes que a função é chamada com os mesmos argumentos, ela sempre retorna o mesmo resultado
        Ex.: fatorial(5) sempre irá retornar 120 */   

        // Exemplo de função não determinística: Math.random()
        // Math.random() Gera um número aleatório entre 0 e 1
        document.write(Math.random()+ '<br>'+'<br>')
        document.write(Math.random()+ '<br>'+'<br>')
        document.write(Math.random()+ '<br>'+'<br>')
        document.write("<br>")

        //Gerar um número aleatório entre 1 e 60
        document.write((Math.random() * 60 + 1) + "<br>"+'<br>'+'<br>')
        document.write("<br>")

        //Math.floor() -> retira as casas decimais
        document.write(Math.floor(Math.random() * 60 + 1) + "<br>"+'<br>'+'<br>')
        document.write("<br>")

        let numeroDaSorte = Math.floor(Math.random() *60 + 1)
        document.write("<br>")

        /* ******************************************************
        PARÂMETROS OPICIONAIS
        ********************************************************* */
        function potencia(base, expoente)
        {
            return base ** expoente
        }

        document.write('2 elevado a 5 é ' + potencia (2,5) + '<br>' + '<br>')
        document.write('5 elevado a 4 é ' + potencia (5,4) + '<br>' + '<br>')
        document.write("<br>")

        //Suponha que, na maioria das vezes que essa função é chamada, o expoente seja 2
        // Uma função pode ter quantos parâmetros opcionais forem necessários, mas todos ele devem vir APÓS os obrigatórios
        function potencia(base, expoente = 2)
        {
            return base ** expoente
        }

        document.write('5 elevado a 2 é ' + potencia (5) + '<br>' + '<br>')
        document.write('7 elevado a 2 é ' + potencia (7) + '<br>' + '<br>')
        document.write('8 elevado a 2 é ' + potencia (8) + '<br>' + '<br>')
        document.write("<br>")

        /* ******************************************************
        PARÂMETROS (OU ARGUMENT)DE RESTO
        ********************************************************* */

        // Suponha uma função que recebe um número arbitrário de números e retorna a sua soma.
        /*function somaTudo (num) //
        {

        } 

        let result = somaTudo([20, 40, 10, 5, 9])
        result = somaTudo([1, 4, 8, 9, 0, -3, 8 14, 7])*/

        // Só pode exeistir UM argumento de resto, e caso haja mais de um argumento, o de resteo deve ser o último.
        let soma2 = 0
        function somaTudo (...nums) //
        {
            for (let i = 0; i < nums.length; i++)
            {
                soma2 += nums [i]
            }
            return soma2
        }

        let result = somaTudo(20, 40, 10, 5, 9)
        document.write(`O resultado somaTudo2 (1): ` + result + "<br>")
        result = somaTudo(1, 4, 8, 9, 0, -3, 8, 14, 7)
        document.write(`O resultado somaTudo2 (2): ` + result + "<br>")
        document.write("<br>")


        function somaTudoAcumulado (inicial, ...nums) // O argumento de resto recebe todos os parâmetros passados de um vetor
        {
            let soma3 = inicial
            for (let i = 0; i < nums.length; i++)
            {
                soma3 += nums [i]
            }
            return soma3
        }

        let abc = somaTudoAcumulado(1000, 2, 8, 0, 3, 7, 10)
        document.write(`somaTudoAcumulado: ` + abc + "<br>")
        document.write("<br>")
        document.write("<br>")
        /* ******************************************************
        EXPRESSÃO DE FUNÇÃO
        ********************************************************* */

        // Uma expressão de função é a declaração de uma função atribída a uma variável.
        // Quando isso ocorre, a função deixa de poder ser chamada por seu nome e deve ser chamada pelo nome da variável.

        let minimo = function min(a, b)
        {
            if (a<b)
            {
                return a
            }
            else
            {
                return b
            }
        
        }

        document.write(`Mínimo 5, 7 => ` + minimo(5,7) + "<br>")
        document.write("<br>")
        document.write("<br>")

        // Quando uma função é atribuida a uma variável, ela só pode ser chamada APÓS a declaração da citada variável. Por isto a chamada a seguir não funcionará;
        // document.write(`Mult 5 * 9 => ` + mult(7, 9) + "<br>")

        let mult = function(x, y)
        {
            return x * y
        }

        document.write(`Mult 5 * 9 => ` + mult(7, 9) + "<br>")
        document.write("<br>")
        document.write("<br>")


        document.write("<br>")
        /* ******************************************************
        ARROW FUNCTION
        ********************************************************* */

        //epressão de função com as seguintes características:
        //1) Apena um argumento 
        //2) O corpo da função tem apenas uma linha
        //3) A função retorna valor 
        let quadrado = function(x)
        {
            return x*x
        }

        //Essa mesma função pode ser escrita com a sintaxe ARROW FUNCTION
        // 1) A palavra-chave "function" é omitida
        // 2) Omiten-se os parênteses que envolvem o argumento
        // 3) Entre o argumento e cospo da função, coloca-se o simbolo =>
        // 4) O corpo da função vem imediatamente emseguida, sem as chaves e sem a palavra-chave "return"

        let quadrado2 = x => x * x
        document.write(`O quadrado de 11 => ` + quadrado2(11) + "<br>")

        let dobro = y => y * 2
        document.write(`O dobro de 34 => ` + dobro(34) + "<br>")       

        let subtract = (a, b) => a - b 
        document.write(`A subtração de 13 e 5 => ` + subtract(13, 5) + "<br>")    

        //Quando temos mais de um parâmetro, os parênteses em volta dos algumentos voltam a ser obrigatorios
        //Math.random() -> gera um número aleatório de ponto flutuante entre 0 e 1
        //Math.floor( -> retirar as casas decimais de um número)

        let aleatorio1a16 = () => Math.floor(Math.random()* 60 + 1)

    document.write("<br>" + aleatorio1a16() + "<br>")

        //Quando a minha função tem mais de uma linha de corpo, voltam as chaves (arrow function deixam de ser interessante)

        let eq2grau = (a, b, c) =>
        {
            let delta = b ** 2 - (4 * a * c)
            if(delta ==0)
            {
                return -b / (2 * a)
            }
            else if(delta > 0)
            {
                let raiz1 = (-b + Math.sqrt(delta)) / 2 * a // Math.sqrt() == Raiz quadrada SQuareRooT = sqrt
                let raiz2 = (-b - Math.sqrt(delta)) / 2 * a // Math.sqrt() == Raiz quadrada SQuareRooT = sqrt
            }
            else // delta < 0
            {
                return undefined
            }
        }
        document.write(`Eq. 2º Grau: a = 1, b = 5, c = 6 => ` + eq2grau(1,5,6) + "<br>")

        document.write(`Eq. 2º Grau: a = 2, b = 2, c = 4 => ` + eq2grau(2,2,4) + "<br>")

        //Pode-se chamar mais de uma função através da mesma ação
        //Para isto basta

        //elementoComNome.addEventListener('click', gerarPadrao()) 
        //elementoComNome.addEventListener('click', outraFuncao())

    </script>
</head>
<body>
    
</body>
</html>